{"version":3,"sources":["upload.svg","App.js","ydk.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","id","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgUpload","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","onDrop","history","files","r","FileReader","onload","e","push","result","readAsDataURL","Form","className","Dropzone","children","useHistory","useDropzone","getRootProps","getInputProps","Print","cards","text","lines","split","line","console","log","startsWith","isNaN","Number","parseYDK","urlSearchParams","URLSearchParams","window","location","search","data","fromEntries","entries","atob","dataFromURL","pages","slice","map","p","Fragment","c","src","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iOAAA,SAASA,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIoB,EAAqB,gBAAoB,OAAQ,CACnDC,GAAI,aACJC,EAAG,4qCAGDC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAqB,gBAAoB,IAAK,MAE9CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAE/CC,EAAsB,gBAAoB,IAAK,MAEnD,SAASC,EAAUC,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQhC,EAAyB4B,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO1C,EAAS,CACtDwB,GAAI,SACJuB,MAAO,6BACPC,WAAY,+BACZC,EAAG,MACHC,EAAG,MACHC,QAAS,sBACTC,MAAO,CACLC,iBAAkB,2BAEpBC,SAAU,WACVC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DpB,GAAIqB,GACHD,GAAS,KAAMrB,EAAOG,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,GAGpI,IAAIgB,EAA0B,aAAiBf,GAChC,I,mBC1Bf,SAASgB,EAAOC,GACd,OAAO,SAAUC,GACf,IAAMC,EAAI,IAAIC,WAEdD,EAAEE,OAAS,SAAAC,GAAC,OAAIL,EAAQM,KAAK,yBAA2BD,EAAE5D,OAAO8D,SACjEL,EAAEM,cAAcP,EAAM,KAI1B,SAASQ,IAEP,OACE,qBAAKC,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,eAACC,EAAD,WACE,cAAC,EAAD,IACA,+EAOV,SAASA,EAAT,GAA+B,IAAZC,EAAW,EAAXA,SACXZ,EAAUa,cADY,EAEUC,YAAY,CAACf,OAAQA,EAAOC,KAA3De,EAFqB,EAErBA,aAAcC,EAFO,EAEPA,cAErB,OAAO,gDAASD,KAAT,cACL,qCAAWC,MACVJ,MAIL,SAASK,IAGP,IAFA,IAAMC,EC3DD,SAAkBC,GACtB,IAAMC,EAAQD,EAAKE,MAAM,MACnBH,EAAQ,GACd,IAAK,IAAIxE,KAAK0E,EAAO,CACjB,IAAME,EAAOF,EAAM1E,GAEnB,GADA6E,QAAQC,IAAIF,GACRA,EAAKG,WAAW,KAChB,MAEAC,MAAMC,OAAOL,KAGjBJ,EAAMZ,KAAKgB,GAEf,OAAOJ,ED6CMU,CC1ET,WACH,IAAMC,EAAkB,IAAIC,gBAAgBC,OAAOC,SAASC,QAEtDC,EADS3F,OAAO4F,YAAYN,EAAgBO,WAC9BF,KACpB,OAAKA,EAAKT,WAAW,SAGdY,KAAKH,EACPb,MAAM,SAAS,GACfA,MAAM,SAAS,GACfA,MAAM,SAAS,IALT,GDqEUiB,IACjBC,EAAQ,GACL7F,EAAI,EAAGA,EAAIwE,EAAMtE,OAAQF,GAAG,EACnC6F,EAAMjC,KAAKY,EAAMsB,MAAM9F,EAAGA,EAAI,IAGhC,OAAO,cAACiE,EAAD,UACJ4B,EAAME,KAAI,SAAAC,GAAC,OACR,eAAC,IAAMC,SAAP,WACA,qBAAKjC,UAAU,aAAf,SACGgC,EAAED,KAAI,SAAAG,GAAC,OAAI,qBAAKC,IAAK,+BAA+BD,EAAE,OAAQlC,UAAW,oBAE1E,mCAOKoC,MAjEf,WACE,OACI,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,SAAZ,SAAqB,cAAC9B,EAAD,MACrB,cAAC,IAAD,CAAO8B,KAAK,mBAAZ,SAA+B,cAAC9B,EAAD,MAC/B,cAAC,IAAD,UAAO,cAACR,EAAD,YE9BjBuC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.83370435.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"XMLID_448_\",\n  d: \"M445.767,308.42l-53.374-76.49v-20.656v-11.366V97.241c0-6.669-2.604-12.94-7.318-17.645L312.787,7.301 C308.073,2.588,301.796,0,295.149,0H77.597C54.161,0,35.103,19.066,35.103,42.494V425.68c0,23.427,19.059,42.494,42.494,42.494 h159.307h39.714c1.902,2.54,3.915,5,6.232,7.205c10.033,9.593,23.547,15.576,38.501,15.576c26.935,0-1.247,0,34.363,0 c14.936,0,28.483-5.982,38.517-15.576c11.693-11.159,17.348-25.825,17.348-40.29v-40.06c16.216-3.418,30.114-13.866,37.91-28.811 C459.151,347.704,457.731,325.554,445.767,308.42z M170.095,414.872H87.422V53.302h175.681v46.752 c0,16.655,13.547,30.209,30.209,30.209h46.76v66.377h-0.255v0.039c-17.685-0.415-35.529,7.285-46.934,23.46l-61.586,88.28 c-11.965,17.134-13.387,39.284-3.722,57.799c7.795,14.945,21.692,25.393,37.91,28.811v19.842h-10.29H170.095z M410.316,345.771 c-2.03,3.866-5.99,6.271-10.337,6.271h-0.016h-32.575v83.048c0,6.437-5.239,11.662-11.659,11.662h-0.017H321.35h-0.017 c-6.423,0-11.662-5.225-11.662-11.662v-83.048h-32.574h-0.016c-4.346,0-8.308-2.405-10.336-6.271 c-2.012-3.866-1.725-8.49,0.783-12.07l61.424-88.064c2.189-3.123,5.769-4.984,9.57-4.984h0.017c3.802,0,7.38,1.861,9.568,4.984 l61.427,88.064C412.04,337.28,412.328,341.905,410.316,345.771z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgUpload(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.955 490.955\",\n    style: {\n      enableBackground: \"new 0 0 490.955 490.955\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpload);\nexport default __webpack_public_path__ + \"static/media/upload.05f219ce.svg\";\nexport { ForwardRef as ReactComponent };","import './App.css';\nimport React from 'react';\nimport {Router, Route, Switch, useHistory} from \"react-router\";\nimport {useDropzone} from 'react-dropzone'\nimport {ReactComponent as UploadIcon} from './upload.svg';\nimport {dataFromURL, parseYDK} from \"./ydk\";\nimport { HashRouter } from 'react-router-dom';\n\nfunction onChangeHelper(setter) {\n  return function (e) {\n    setter(e.target.value)\n  }\n}\n\nfunction onFileChangeHelper(deckFile, pathSetter) {\n  return function (e) {\n    pathSetter({...deckFile, path: e.target.value})\n    const reader = new FileReader();\n    reader.addEventListener('load', (event) => {\n      pathSetter({...deckFile, data: e.target.result})\n\n      console.log(event.target.result);\n      debugger\n    });\n    reader.readAsDataURL(e.target.files[0]);\n  }\n}\n\n\nfunction App() {\n  return (\n      <HashRouter>\n        <Switch>\n          <Route path=\"/print\"><Print/></Route>\n          <Route path=\"/ydk-print/print\"><Print/></Route>\n          <Route><Form/></Route>\n        </Switch>\n      </HashRouter>\n  );\n}\n\nfunction onDrop(history) {\n  return function (files) {\n    const r = new FileReader();\n    // eslint-disable-next-line no-restricted-globals\n    r.onload = e => history.push('/ydk-print/print?data=' + e.target.result);\n    r.readAsDataURL(files[0]);\n  }\n}\n\nfunction Form() {\n\n  return (\n    <div className=\"container\">\n      <div className=\"app\">\n        <Dropzone>\n          <UploadIcon/>\n          <p>Drag a YDK file here or click to upload</p>\n        </Dropzone>\n      </div>\n    </div>\n  );\n}\n\nfunction Dropzone({children}) {\n  const history = useHistory();\n  const {getRootProps, getInputProps} = useDropzone({onDrop: onDrop(history)})\n\n  return <div {...getRootProps()}>\n    <input {...getInputProps()} />\n    {children}\n  </div>\n}\n\nfunction Print() {\n  const cards = parseYDK(dataFromURL());\n  const pages = [];\n  for (let i = 0; i < cards.length; i+=9) {\n    pages.push(cards.slice(i, i + 9))\n  }\n\n  return <Dropzone>\n    {pages.map(p =>\n        <React.Fragment>\n        <div className=\"print-body\">\n          {p.map(c => <img src={'https://ygoprodeck.com/pics/'+c+'.jpg'} className={'print-card'}/>)}\n        </div>\n          <footer/>\n        </React.Fragment>\n    )}\n  </Dropzone>\n\n}\n\nexport default App;\n","\nexport function dataFromURL() {\n    const urlSearchParams = new URLSearchParams(window.location.search);\n    const params = Object.fromEntries(urlSearchParams.entries());\n    const data = params.data;\n    if (!data.startsWith('data:')) {\n        return '';\n    }\n    return atob(data\n        .split(/:(.+)/)[1]\n        .split(/;(.+)/)[1]\n        .split(/,(.+)/)[1]);\n}\n\n\n\nexport function parseYDK(text) {\n   const lines = text.split('\\n');\n   const cards = [];\n   for (let i in lines) {\n       const line = lines[i];\n       console.log(line)\n       if (line.startsWith('!')) {\n           break\n       }\n       if (isNaN(Number(line))) {\n           continue;\n       }\n       cards.push(line)\n   }\n   return cards;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}